(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/update/ysvdetail"],{

/***/ 252:
/*!************************************************************************!*\
  !*** D:/com_work/wenlin/main.js?{"page":"pages%2Fupdate%2Fysvdetail"} ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 5);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 3));
var _ysvdetail = _interopRequireDefault(__webpack_require__(/*! ./pages/update/ysvdetail.vue */ 253));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;
createPage(_ysvdetail.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 253:
/*!*****************************************************!*\
  !*** D:/com_work/wenlin/pages/update/ysvdetail.vue ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ysvdetail.vue?vue&type=template&id=246cef20&scoped=true& */ 254);
/* harmony import */ var _ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ysvdetail.vue?vue&type=script&lang=js& */ 256);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _ysvdetail_vue_vue_type_style_index_0_id_246cef20_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ysvdetail.vue?vue&type=style&index=0&id=246cef20&lang=scss&scoped=true& */ 258);
/* harmony import */ var _C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 11);

var renderjs





/* normalize component */

var component = Object(_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "246cef20",
  null,
  false,
  _ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/update/ysvdetail.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 254:
/*!************************************************************************************************!*\
  !*** D:/com_work/wenlin/pages/update/ysvdetail.vue?vue&type=template&id=246cef20&scoped=true& ***!
  \************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ysvdetail.vue?vue&type=template&id=246cef20&scoped=true& */ 255);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_template_id_246cef20_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 255:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/com_work/wenlin/pages/update/ysvdetail.vue?vue&type=template&id=246cef20&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
try {
  components = {
    uLineProgress: function() {
      return __webpack_require__.e(/*! import() | uview-ui/components/u-line-progress/u-line-progress */ "uview-ui/components/u-line-progress/u-line-progress").then(__webpack_require__.bind(null, /*! @/uview-ui/components/u-line-progress/u-line-progress.vue */ 831))
    },
    uSkeleton: function() {
      return __webpack_require__.e(/*! import() | uview-ui/components/u-skeleton/u-skeleton */ "uview-ui/components/u-skeleton/u-skeleton").then(__webpack_require__.bind(null, /*! @/uview-ui/components/u-skeleton/u-skeleton.vue */ 645))
    },
    uPopup: function() {
      return __webpack_require__.e(/*! import() | uview-ui/components/u-popup/u-popup */ "uview-ui/components/u-popup/u-popup").then(__webpack_require__.bind(null, /*! @/uview-ui/components/u-popup/u-popup.vue */ 750))
    },
    uInput: function() {
      return Promise.all(/*! import() | uview-ui/components/u-input/u-input */[__webpack_require__.e("common/vendor"), __webpack_require__.e("uview-ui/components/u-input/u-input")]).then(__webpack_require__.bind(null, /*! @/uview-ui/components/u-input/u-input.vue */ 757))
    },
    uIcon: function() {
      return __webpack_require__.e(/*! import() | uview-ui/components/u-icon/u-icon */ "uview-ui/components/u-icon/u-icon").then(__webpack_require__.bind(null, /*! @/uview-ui/components/u-icon/u-icon.vue */ 772))
    }
  }
} catch (e) {
  if (
    e.message.indexOf("Cannot find module") !== -1 &&
    e.message.indexOf(".vue") !== -1
  ) {
    console.error(e.message)
    console.error("1. 排查组件名称拼写是否正确")
    console.error(
      "2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"
    )
    console.error(
      "3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件"
    )
  } else {
    throw e
  }
}
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var g0 = (_vm.detail.vote_percent * 100).toFixed(2)
  var g1 = (_vm.detail.vote_percent * 100).toFixed(2)
  var m0 = _vm.detail.is_vote == 0 ? __webpack_require__(/*! ../../static/vite.png */ 246) : null
  var m1 = !(_vm.detail.is_vote == 0)
    ? __webpack_require__(/*! ../../static/voteactive.png */ 247)
    : null

  var l0 = _vm.__map(_vm.commentList, function(item, index) {
    var $orig = _vm.__get_orig(item)

    var f0 = _vm.navIndex == 2 ? _vm._f("formatTime")(item.create_time) : null
    return {
      $orig: $orig,
      f0: f0
    }
  })

  if (!_vm._isMounted) {
    _vm.e0 = function($event) {
      $event.stopPropagation()
      _vm.voteFlag = false
    }

    _vm.e1 = function($event) {
      _vm.nameShow = false
    }
  }

  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        g0: g0,
        g1: g1,
        m0: m0,
        m1: m1,
        l0: l0
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 256:
/*!******************************************************************************!*\
  !*** D:/com_work/wenlin/pages/update/ysvdetail.vue?vue&type=script&lang=js& ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _C_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ysvdetail.vue?vue&type=script&lang=js& */ 257);
/* harmony import */ var _C_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_C_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _C_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _C_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_C_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 257:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/com_work/wenlin/pages/update/ysvdetail.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;















































































































































































































































var _tool = _interopRequireDefault(__webpack_require__(/*! ../../utils/tool.js */ 15));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}var Reply = function Reply() {__webpack_require__.e(/*! require.ensure | components/reply/reply */ "components/reply/reply").then((function () {return resolve(__webpack_require__(/*! @/components/reply/reply.vue */ 652));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Nodata = function Nodata() {__webpack_require__.e(/*! require.ensure | components/nodata/nodata */ "components/nodata/nodata").then((function () {return resolve(__webpack_require__(/*! @/components/nodata/nodata.vue */ 659));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Thank = function Thank() {__webpack_require__.e(/*! require.ensure | components/thank/thank */ "components/thank/thank").then((function () {return resolve(__webpack_require__(/*! @/components/thank/thank.vue */ 666));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Help = function Help() {__webpack_require__.e(/*! require.ensure | components/help/help */ "components/help/help").then((function () {return resolve(__webpack_require__(/*! @/components/help/help.vue */ 673));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var LeaveWords = function LeaveWords() {__webpack_require__.e(/*! require.ensure | components/leavewords/leavewords */ "components/leavewords/leavewords").then((function () {return resolve(__webpack_require__(/*! @/components/leavewords/leavewords.vue */ 680));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Onshare = function Onshare() {__webpack_require__.e(/*! require.ensure | components/onshare/onshare */ "components/onshare/onshare").then((function () {return resolve(__webpack_require__(/*! @/components/onshare/onshare.vue */ 687));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Firend = function Firend() {__webpack_require__.e(/*! require.ensure | components/onfirend/onfirend */ "components/onfirend/onfirend").then((function () {return resolve(__webpack_require__(/*! ../../components/onfirend/onfirend.vue */ 694));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var FindFault = function FindFault() {__webpack_require__.e(/*! require.ensure | components/findFault/findFault */ "components/findFault/findFault").then((function () {return resolve(__webpack_require__(/*! @/components/findFault/findFault.vue */ 701));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var emotion = function emotion() {__webpack_require__.e(/*! require.ensure | components/bkhumor-emoji/index */ "components/bkhumor-emoji/index").then((function () {return resolve(__webpack_require__(/*! @/components/bkhumor-emoji/index.vue */ 708));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var navigationCustom = function navigationCustom() {__webpack_require__.e(/*! require.ensure | components/struggler-navigationCustom/navigation-custom */ "components/struggler-navigationCustom/navigation-custom").then((function () {return resolve(__webpack_require__(/*! ../../components/struggler-navigationCustom/navigation-custom */ 595));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var UserHeader = function UserHeader() {__webpack_require__.e(/*! require.ensure | components/userHeader/userheader */ "components/userHeader/userheader").then((function () {return resolve(__webpack_require__(/*! @/components/userHeader/userheader.vue */ 715));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Comment = function Comment() {__webpack_require__.e(/*! require.ensure | components/comment/comment */ "components/comment/comment").then((function () {return resolve(__webpack_require__(/*! @/components/comment/comment.vue */ 722));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var hchPoster = function hchPoster() {Promise.all(/*! require.ensure | wxcomponents/hch-poster/hch-poster */[__webpack_require__.e("common/vendor"), __webpack_require__.e("wxcomponents/hch-poster/hch-poster")]).then((function () {return resolve(__webpack_require__(/*! ../../wxcomponents/hch-poster/hch-poster.vue */ 609));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Integraltip = function Integraltip() {__webpack_require__.e(/*! require.ensure | components/integraltip/integraltip */ "components/integraltip/integraltip").then((function () {return resolve(__webpack_require__(/*! @/components/integraltip/integraltip.vue */ 729));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Confrimpop = function Confrimpop() {__webpack_require__.e(/*! require.ensure | components/confrim/confrim */ "components/confrim/confrim").then((function () {return resolve(__webpack_require__(/*! @/components/confrim/confrim.vue */ 736));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Confrimpops = function Confrimpops() {__webpack_require__.e(/*! require.ensure | components/confrim/confrim */ "components/confrim/confrim").then((function () {return resolve(__webpack_require__(/*! @/components/confrim/confrim.vue */ 736));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var DeleteTip = function DeleteTip() {__webpack_require__.e(/*! require.ensure | components/deletetip/deletetip */ "components/deletetip/deletetip").then((function () {return resolve(__webpack_require__(/*! @/components/deletetip/deletetip.vue */ 743));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var SelectItem = function SelectItem() {__webpack_require__.e(/*! require.ensure | components/selectitem/selectitem */ "components/selectitem/selectitem").then((function () {return resolve(__webpack_require__(/*! @/components/selectitem/selectitem.vue */ 796));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var _default =






{
  data: function data() {
    return {
      imgURl: this.Config.minUrl,
      //表情配置
      windowHeight: 0, //记录界面高度
      containerHeight: 0, //记录未固定整体滚动界面的高度
      containerBottomHeight: 0, //记录未固定整体滚动界面距离底部高度
      keyboardHeight: 0, //键盘高度
      autoBottom: 0,
      showconfirmbar: false,
      adjustposition: false,
      textareaautofocus: false,
      isShowEmj: false,
      emojiIcon: 'cuIcon-emoji',
      inputValue: '',
      config: {
        title: '详情', //title
        bgcolor: 'white', //背景颜色
        fontcolor: 'rgba(51, 51, 51, 1)', //文字颜色，默认白色
        type: 1, //type 1，3胶囊 2，4无胶囊模式
        transparent: false, //是否背景透明 默认白色
        linear: false, //是为开启下滑渐变
        share: false //是否将主页按钮显示为分享按钮
        // menuIcon:"../static/icon/back_.png", 当type为3或者4的时候左边的icon文件位置，注意位置与当前页面不一样
        // menuText:"返回", 当type为3或4的时候icon右边的文字
      },
      scrollTop: 0, // 当linear为true的时候需要通过onpagescroll传递参数
      scrollMaxHeight: 200, //滑动的高度限制，超过这个高度即背景全部显示
      wxsj: false,
      cardCur: 0,
      swiperIndex: 1,
      swiperList: [],
      dotStyle: false,
      towerStart: 0,
      direction: '',
      navIndex: 1,
      id: '',
      detail: {
        images: [],
        community: {},
        user: {} },

      commentList: [],
      parent_id: '',
      parent_text: '说说你的看法',
      community_id: '',
      findFaultType: 1,
      findFaultCollect: false,
      findFaultObject: {},
      findFaultValue: false,
      replyFlag: true, //回复开启
      total: 0,
      page: 1,
      page_size: 10,
      type: '',
      messageShow: false,
      messageText: '',
      typeFlag: true,
      deliveryFlag: false,
      canvasFlag: true,
      posterData: {
        marginLR: 30,
        marginTB: 80,
        radius: 0.03,
        innerLR: 20,
        innerTB: 20,
        posterRatio: 1.3,
        posterImgUrl: '',
        title: '',
        titleFontSize: 15,
        desFontSize: 14,
        desLineHeight: 22,
        titleLineHeight: 24,
        posterCodeUrl: 'https://sq.wenlinapp.com/upload/share/20200821/20200821233746683.png',
        codeWidth: 0.22,
        codeRatio: 1,
        codeRadius: 0.5,
        codeMT: 15,
        codeName: '问邻',
        codeNameMT: 15,
        tips: '长按/扫描识别进入贴子',
        posterBgUrl: '',
        avatarUrl: uni.getStorageSync('user').avatar,
        des: '' },

      dynamics_id: '',
      thankShow: false,
      onShareShow: false,
      isSelf: false, //是否是自己
      helpShow: false,
      score: 0,
      user_id: '',
      srouce: 0, //分享来源，
      opening: 0, //0 本小区可见 1所有小区可见
      srouceShow: false,
      srouceText: '提示您尚未登录，请登录后操作',
      srouceCommunity_id: '',
      srouceCommunity_text: '',
      srouceBtnText: '登录',
      skillList: [],
      scrollFixed: false,
      add_type: '',
      score_text: '',
      query: '',
      author: '',
      ucommunityid: uni.getStorageSync('community_id'),
      nodataFlag: false,
      nodatatext: '暂无评论',
      simpleFlag: false,
      replyTextarea: false,
      isHome: true,
      loading: true,
      voteFlag: false,
      votetextarea: '',
      voteobj: {},
      voteType: 'vote',
      nameList: [
      { value: 0, name: '实名发布', check: false },
      { value: 1, name: '匿名发布', check: true }],

      nameLabel: '匿名发布',
      selectType: 'name',
      nameShow: false,
      vote_id: 0 };

  },
  mounted: function mounted() {
    console.log(this.$mp.query);
    var singPage = uni.getStorageSync('singPage');
    var that = this;
    if (singPage == 0) {
      var auth = new Promise(function (resolve, reject) {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && !all_community) {
          uni.login({
            success: function success(res) {var
              errMsg = res.errMsg,code = res.code;
              if (errMsg == 'login:ok') {
                that.Api.wechatAuth({ code: code }).then(function (result) {
                  if (result.code == 1) {
                    uni.setStorageSync('token', result.data.token);
                    uni.setStorageSync('user', result.data.user);
                    uni.setStorageSync('maxJoin', result.data.max_join);
                    uni.setStorageSync('mobile', result.data.user.mobile);
                    uni.setStorageSync('all_community', result.data.all_community.length ? result.data.all_community : []);
                    resolve();
                  }
                });
              }
            } });

        } else {
          resolve();
        }
      });
      auth.then(function (status) {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        that.loginTodoHander();
      });
    } else {
      that.loginTodoHander();
    }
  },
  onReachBottom: function onReachBottom(e) {
    if (this.total > 1) {
      if (this.total > this.page) {
        this.page++;
        this.getCommentList(true);
      }
    }
  },
  onPullDownRefresh: function onPullDownRefresh(e) {
    this.getDetailAll();
  },
  onPageScroll: function onPageScroll(e) {},
  onShareAppMessage: function onShareAppMessage() {
    if (this.detail.publish_type == 2 || this.detail.publish_type == 3) {
      return {
        title: this.detail.title,
        imageUrl: this.detail.images && this.detail.images.length ? this.detail.images[0] : 'https://sq.wenlinapp.com/appimg/send54.png',
        path: '/pages/update/ysvdetail?srouce=1&id=' + this.id + '&type=' + this.type + '&dynamics_id=' + this.dynamics_id };

    } else if (this.detail.publish_type == 1) {
      var content = this.detail.content;
      if (this.detail.sell_type && this.detail.sell_type == 2) {
        content = '赠送:' + content;
      }
      return {
        title: content.length > 30 ? content.substr(0, 30) + '...' : content,
        imageUrl: this.detail.images && this.detail.images.length ? this.detail.images[0] : 'https://sq.wenlinapp.com/appimg/send54.png',
        path: '/pages/update/ysvdetail?srouce=1&id=' + this.id + '&type=' + this.type + '&dynamics_id=' + this.dynamics_id };

    } else {
      return {
        title: this.detail.title,
        imageUrl: this.detail.images && this.detail.images.length ? this.detail.images[0] : 'https://sq.wenlinapp.com/appimg/send54.png',
        path: '/pages/update/ysvdetail?srouce=1&id=' + this.id + '&type=' + this.type + '&dynamics_id=' + this.dynamics_id };

    }
  },
  onShareTimeline: function onShareTimeline(e) {
    var title = '';
    if (this.detail.publish_type == 1) {
      var content = this.detail.content;
      if (this.detail.sell_type && this.detail.sell_type == 2) {
        content = '赠送:' + content;
      }
      title = content.length > 30 ? content.substr(0, 30) + '...' : content;
    } else {
      title = this.detail.vote_title;
    }
    var query = {};
    if (this.type == 7 || this.type == 8) {
      query.id = this.id;
      query.type = this.type;
      query.dynamics_id = this.dynamics_id;
    } else {
      query.id = this.id;
      query.type = this.type;
    }
    // query=JSON.stringify(query);
    return {
      title: title,
      imageUrl: this.detail.images && this.detail.images.length ? this.detail.images[0] : 'https://sq.wenlinapp.com/appimg/send54.png',
      query: query };

  },
  methods: {
    deleteDynamics: function deleteDynamics(obj) {
      console.log(obj, 'xx');
      this.$refs.dconfrims.guestShow = true;
      this.$refs.dconfrims.id = obj.vote_id;
      this.$refs.dconfrims.type = obj.type;
      this.$refs.dconfrims.obj = obj;
      this.$refs.dconfrims.text = '是否删除本贴?';
    },
    condelHandlers: function condelHandlers(obj) {var _this = this;
      console.log(obj);
      var pitem = obj;
      var object_id = this.detail.vote_id;
      var type = pitem.type;
      var object_type = 16;
      // if (type == 5) {
      // 	object_id = pitem.object_id	
      // } else {

      // 	if (type == 7 || type == 8) {
      // 		if(type == 8){
      // 			object_id = pitem.object_id	
      // 		}else{
      // 			object_id = pitem.wiki_id
      // 		}
      // 	} else if(type == 16){
      // 		object_id = pitem.object_id	
      // 	}else if(type == 17){
      // 		object_id = pitem.object_id	
      // 	}else{
      // 		object_id = pitem.object_id	
      // 	}
      // }
      this.Api.deleteDynamics({ object_type: object_type, object_id: object_id, community_id: uni.getStorageSync('community_id') }).then(function (result) {
        if (result.code == 1) {
          uni.showToast({
            icon: 'success',
            title: result.msg,
            duration: 2000,
            success: function success() {
              _this.$refs.dconfrims.guestShow = false;
              _this.findFaultValue = false;
              uni.reLaunch({
                url: '/pages/index/index' });

            } });

        }
      });
    },
    selectTodo: function selectTodo(value) {
      this.nameShow = true;
    },
    selectHandler: function selectHandler(item) {var _this2 = this;
      this.nameList.map(function (sitem) {
        if (sitem.name == item.name) {
          _this2.nameLabel = sitem.name;
          sitem.check = true;
        } else {
          sitem.check = false;
        }
      });
      this.nameShow = false;
    },
    voteHandler: function voteHandler() {var _this3 = this;
      if (this.voteobj.is_vote == 0) {
        var data = {
          dynamics_id: this.dynamics_id,
          community_id: this.detail.community_id,
          title: this.votetextarea,
          vote_id: this.voteobj.vote_id,
          anonymous: 1 };

        // this.nameList.map((item)=>{
        // 	if(item.check){
        // 		data.anonymous = item.value
        // 	}
        // })
        this.Api.vote(data).then(function (result) {
          if (result.code == 1) {
            _this3.getDetailAll();
            _this3.voteFlag = false;
          } else {
            return _this3.$u.toast(result.msg);
          }
        });
      } else {
        return this.$u.toast('您已投票');
      }
    },
    votoTodo: function votoTodo(item) {
      this.voteobj = item;
      if (this.voteobj.is_vote == 0) {
        this.voteFlag = true;
      } else {
        return this.$u.toast('您已投票');
      }
    },
    loginTodoHander: function loginTodoHander() {
      if (this.$mp.query.scene) {
        this.srouce = 1;
        var scene = decodeURIComponent(this.$mp.query.scene);
        var arr = scene.split('&');
        if (arr[0]) {
          if (arr[0].split('=')[1]) {
            this.id = arr[0].split('=')[1];
          }
        }
        if (arr[1]) {
          if (arr[1].split('=')[1]) {
            this.type = arr[1].split('=')[1];
          }
        }
        if (arr[2]) {
          if (arr[2].split('=')[1]) {
            this.vote_id = arr[2].split('=')[1];
          }
        }

        this.getDetailAll();
      }

      if (this.$mp.query.type) {
        this.type = this.$mp.query.type;
      }
      if (this.$mp.query.vote_id) {
        this.id = this.$mp.query.vote_id;
        this.vote_id = this.$mp.query.vote_id;
        this.getDetailAll();
      }
      if (this.$mp.query.srouce) {
        this.srouce = this.$mp.query.srouce;
      }
      this.query = this.$mp.query;
      if (this.type == 2) {
        this.config.title = '小区新鲜事';
      } else if (this.type == 5) {
        this.config.title = '小区新鲜事';
      } else {
        this.config.title = '小区' + _tool.default.resultValue(this.type);
      }
    },
    getMap: function getMap() {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      var that = this;
      uni.getLocation({
        type: 'wgs84',
        success: function success(res) {
          uni.openLocation({
            //​使用微信内置地图查看位置。
            latitude: parseFloat(that.detail.latitude), //要去的纬度-地址
            longitude: parseFloat(that.detail.longitude), //要去的经度-地址
            name: '',
            address: that.detail.province + that.detail.city + that.detail.area + that.detail.address });

        } });

    },
    mobilecall: function mobilecall(mobile) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      uni.makePhoneCall({
        phoneNumber: mobile });

    },
    keyboardHandler: function keyboardHandler(e) {
      var height = e.detail.height;
      if (this.autoBottom == height) {
        return;
      } else {
        this.autoBottom = height;
      }
    },
    replyInit: function replyInit() {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      this.replyTextarea = true;
      this.textareaautofocus = true;
      this.scrollFixed = true;
    },
    closeReplyInit: function closeReplyInit() {
      this.replyTextarea = false;
      this.textareaautofocus = false;
      this.scrollFixed = false;
      this.parent_text = '说说你的看法';
    },
    //转发朋友圈
    onsend: function onsend() {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      this.onShareShow = false;
      this.$refs.Firend.onshow();
    },
    operation: function operation() {
      if (this.srouce == 1) {
        if (this.opening == 0) {
          // if(this.srouceCommunity_id
        } else {
          return false;
        }
      } else {
        return false;
      }
    },
    goComitee: function goComitee(obj) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      uni.navigateTo({
        url: '/pages/update/committee?id=' + obj });

    },
    goHomeIndex: function goHomeIndex() {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      uni.navigateTo({
        url: '/pages/index/index' });

    },
    fixtodo: function fixtodo() {
      var token = uni.getStorageSync('token');
      var all_community = uni.getStorageSync('all_community');
      if (all_community.length) {
        uni.setStorageSync('community_id', all_community[0].community_id);
        uni.setStorageSync('committee_id', all_community[0].committee_id);
      } else {
        this.srouceText = '提示您尚未登录，请登录后操作';
        this.srouceBtnText = '登录';
        this.srouceShow = true;
      }
    },
    autoShare: function autoShare() {var _this4 = this;
      if (this.srouce == 1) {
        if (uni.getStorageSync('token')) {
          if (this.opening == 0 && this.detail.publish_type == 1) {
            if (this.srouceCommunity_id != uni.getStorageSync('community_id')) {
              this.srouceText = '本贴设置了' + this.srouceCommunity_text + '小区内部可见,您无权浏览';
              this.srouceBtnText = '返回首页';
              this.srouceShow = true;
            }
          }
        } else {
          // this.srouceShow = true
          // this.srouceText = '提示您尚未登录，请登录后操作'
          // this.srouceBtnTex = '登录'

          var that = this;
          var auth = new Promise(function (resolve, reject) {
            uni.login({
              success: function success(res) {var
                errMsg = res.errMsg,code = res.code;
                if (errMsg == 'login:ok') {
                  that.Api.wechatAuth({ code: code }).then(function (result) {
                    if (result.code == 1) {
                      uni.setStorageSync('token', result.data.token);
                      uni.setStorageSync('user', result.data.user);
                      uni.setStorageSync('mobile', result.data.user.mobile);
                      uni.setStorageSync('all_community', result.data.all_community);
                      resolve();
                    }
                  });
                }
              } });

          });

          auth.then(function (status) {
            var token = uni.getStorageSync('token');
            var all_community = uni.getStorageSync('all_community');
            if (all_community.length) {
              uni.setStorageSync('community_id', all_community[0].community_id);
              uni.setStorageSync('committee_id', all_community[0].committee_id);
            } else {
              _this4.srouceText = '提示您尚未登录，请登录后操作';
              _this4.srouceBtnText = '登录';
              _this4.srouceShow = true;
            }
          });
        }
      }
    },
    // 取不同的详情
    getDetailAll: function getDetailAll() {
      var that = this;
      that.getDetail();

    },
    //个人名片
    goPer: function goPer(item) {
      console.log(item);
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      uni.navigateTo({
        url: '/pages/index/personalcard?user_id=' + item.id + '&community_id=' + item.community_id });

    },
    //帮推
    helpPush: function helpPush() {var _this5 = this;
      // this.$getMyscore((data) => {
      // 	this.score = data.score
      // 	this.helpShow = true
      // })
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      this.$getMyscore(function (res) {
        if (res.code == 1) {
          _this5.score = res.data.score;
          if (_this5.score == 0) {
            uni.showToast({
              title: '您的积分不足，请参加积分任务',
              icon: 'none',
              duration: 2000 });

            setTimeout(function () {
              uni.navigateTo({
                url: '/pages/update/integral' });

            }, 2000);
          } else {
            _this5.helpShow = true;
          }
        }
      });
    },
    Helpcancel: function Helpcancel() {
      this.helpShow = false;
    },
    helpOk: function helpOk() {var _this6 = this;
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      var score = this.$refs.Help.inputValue;
      if (!score) {
        uni.showToast({
          title: '请输入帮推积分',
          icon: 'none',
          duration: 2000 });

        return;
      }
      var data = {
        dynamics_id: this.id,
        community_id: uni.getStorageSync('community_id'),
        type: this.type,
        score: score };

      if (this.type == 7 || this.type == 8) {
        data.dynamics_id = this.dynamics_id;
      }
      this.Api.communityDynamicsPushDynamics(data).then(function (result) {
        if (result.code == 1) {
          uni.showToast({
            title: result.msg,
            duration: 2000,
            success: function success() {
              _this6.add_type = result.data.add == -1 ? '-' : '+';
              _this6.score_text = result.data.score;
              _this6.helpShow = false;
              _this6.$refs.integraltip.show();
              setTimeout(function () {
                _this6.add_type = '';
                _this6.score_text = '';
                _this6.$refs.Help.inputValue = 0;
                _this6.$refs.integraltip.close();
                _this6.getDetailAll();
              }, 2000);
            } });

        } else {
          uni.showToast({
            title: result.msg,
            duration: 2000,
            success: function success() {} });

        }
      });
    },
    getCommentList: function getCommentList(ismore) {var _this7 = this;
      //所有的都是10
      var data = {
        vote_id: this.id,
        page: this.page,
        page_size: 10 };

      if (this.navIndex == 1) {
        this.Api.getVoteMultistageComments(data).then(function (result) {
          if (result.code == 1) {
            if (ismore) {
              var res = result.data.list;
              _this7.total = result.data.total_page;
              res.map(function (item) {
                item.nodes =
                '<p style="display:inline-flex;align-items:center;">' +
                new String(item.content).
                toString().
                replace(
                /\[em\_(\d{1,3})\]/g,
                '<img class="imgemoji" style="width:21px;" src=https://sq.wenlinapp.com/bkhumor-emoji/' + '$1' + '.gif  align=middle/>') +

                '</p>';
                if (item.children) {
                  item.children.map(function (sitem) {
                    sitem.nodes =
                    '<p style="display:inline-block"><i style="color:#ff9c00;font-style: inherit;margin-right:2px;white-space:nowrap">' +
                    sitem.user.user_nickname +
                    '</i> <i style="color:#333333;font-style: inherit;white-space:nowrap">回复</i> <i style="margin-left:2px;margin-right:2px;color:#ff9c00;font-style: inherit;white-space:nowrap">' +
                    sitem.to_user.user_nickname +
                    '</i>:<i style="margin-left:3px;font-style: inherit">' +
                    new String(sitem.content).
                    toString().
                    replace(
                    /\[em\_(\d{1,3})\]/g,
                    '<span style="width:21px;height:21px;position:relative;margin-right:25px"><img style="position: absolute;left: 0;top: -2px;width:21px;" class="imgemoji" src=https://sq.wenlinapp.com/bkhumor-emoji/' +
                    '$1' +
                    '.gif  align=middle/></span>') +

                    '</i></p>';
                  });
                }
              });
              _this7.commentList = _this7.commentList.concat(res);
            } else {
              var res = result.data.list;
              _this7.total = result.data.total_page;
              res.map(function (item) {
                item.nodes =
                '<p style="display:inline-flex;align-items:center;">' +
                new String(item.content).
                toString().
                replace(
                /\[em\_(\d{1,3})\]/g,
                '<img class="imgemoji" style="width:21px" src=https://sq.wenlinapp.com/bkhumor-emoji/' + '$1' + '.gif  align=middle/>') +

                '</p>';
                if (item.children) {
                  item.children.map(function (sitem) {
                    sitem.nodes =
                    '<p style="display:inline-block"><i style="color:#ff9c00;font-style: inherit;margin-right:2px;white-space:nowrap">' +
                    sitem.user.user_nickname +
                    '</i> <i style="color:#333333;font-style: inherit;white-space:nowrap">回复</i> <i style="margin-left:2px;margin-right:2px;color:#ff9c00;font-style: inherit;white-space:nowrap">' +
                    sitem.to_user.user_nickname +
                    '</i>:<i style="margin-left:3px;font-style: inherit">' +
                    new String(sitem.content).
                    toString().
                    replace(
                    /\[em\_(\d{1,3})\]/g,
                    '<span style="width:21px;height:21px;position:relative;margin-right:25px"><img style="position: absolute;left: 0;top: -2px;width:21px;" class="imgemoji"  src=https://sq.wenlinapp.com/bkhumor-emoji/' +
                    '$1' +
                    '.gif  align=middle/></span>') +

                    '</i></p>';
                  });
                }
              });
              _this7.commentList = res;
            }
            if (_this7.commentList.length) {
              _this7.nodataFlag = false;
            } else {
              _this7.nodataFlag = true;
            }
            _this7.$forceUpdate();
          }
        });
      } else if (this.navIndex == 2) {
        data.id = this.id;
        data.type = this.type;
        this.Api.getDynamicsPushLog(data).then(function (result) {
          if (result.code == 1) {
            if (ismore) {
              var res = result.data.list;
              _this7.total = result.data.total_page;
              _this7.commentList = _this7.commentList.concat(res);
            } else {
              var res = result.data.list;
              _this7.total = result.data.total_page;
              _this7.commentList = res;
            }
            if (_this7.commentList.length) {
              _this7.nodataFlag = false;
            } else {
              _this7.nodataFlag = true;
            }
            _this7.$forceUpdate();
          }
        });
      }
    },
    //删除评论
    delHandler: function delHandler(e) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      this.$refs.confrims.guestShow = true;
      this.$refs.confrims.id = e.id;
    },
    //评论功能
    faceClick: function faceClick() {
      this.isShowEmj = !this.isShowEmj;
    },
    //评论点赞
    floverHandler: function floverHandler(e) {var _this8 = this;
      return;
      console.log(e);
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }

      // 10
      if (e.user_like == 0) {
        var data = {
          object_id: e.id,
          object_type: 10,
          community_id: uni.getStorageSync('community_id') };

        if (this.type == 7) {
          data.dynamics_id = this.dynamics_id;
        }
        this.Api.setLikes(data).then(function (result) {
          if (result.code == 1) {
            // uni.showToast({
            // 	title: result.msg,
            // 	duration: 2000,
            // 	success: () => {
            _this8.getCommentList();
            // 	}
            // });
          }
        });
      } else if (e.user_like == 1) {
        var data = {
          object_id: e.id,
          object_type: 10,
          community_id: uni.getStorageSync('community_id') };

        if (this.type == 7) {
          data.dynamics_id = this.dynamics_id;
        }
        this.Api.unsetLikes(data).then(function (result) {
          if (result.code == 1) {
            // uni.showToast({
            // 	title: result.msg,
            // 	duration: 2000,
            // 	success: () => {
            _this8.getCommentList();
            // }
            //});
          }
        });
      }
    },
    InputFocus: function InputFocus(e) {
      console.log(e, 'e inputfocus');
      console.log('111');
      this.autoBottom = e.detail.height;
      this.isShowEmj = false;
      this.replyFlag = false;
      this.$emit('foc');
    },
    handleEmj: function handleEmj(i) {
      if (i == '[em_98]') {
        //匹配最后一个表情符号并删除。
        this.inputValue = this.inputValue.replace(/(\[[^\]]+\]|[\s\S])$/, '');
      } else {
        this.inputValue += i;
      }
    },
    showEmj: function showEmj() {
      var bool = !this.isShowEmj;
      if (bool) {
        this.emojiIcon = 'cuIcon-keyboard';
      } else {
        this.emojiIcon = 'cuIcon-emoji';
      }

      this.isShowEmj = bool;
      this.$emit('show');
    },
    InputBlur: function InputBlur(e) {
      this.autoBottom = 0;
    },

    inputValueHander: function inputValueHander(e) {
      var that = this;
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      if (this.inputValue.length < 1) {
        uni.showToast({
          title: '请输入评论内容',
          icon: 'none',
          duration: 2000 });

        return;
      } else {

        var data = {
          vote_id: this.detail.vote_id,
          dynamics_id: this.detail.dynamics_id,
          content: this.inputValue,
          community_id: uni.getStorageSync('community_id') };

        if (this.parent_id) {
          data.parent_id = this.parent_id;
          this.Api.voteCommentReply(data).then(function (result) {
            if (result.code == 1) {
              // uni.showToast({
              // 	title: result.msg,
              // 	duration: 2000,
              // 	success: () => {
              that.$u.toast(result.msg);
              that.subMessageTodo(that.comIds, 3, function (ss) {
                that.replyTextarea = false;
                that.textareaautofocus = false;
                that.scrollFixed = false;
                // this.isShowEmj = false
                // this.inputValue = ''
                // this.parent_id = ''
                // this.replyFlag = true
                // this.parent_text = '说说你的看法'
                // this.getCommentList()
                that.isShowEmj = false;
                that.inputValue = '';
                that.parent_id = '';
                that.replyFlag = true;
                that.parent_text = '说说你的看法';
                if (result.data.add) {
                  that.add_type = result.data.add == -1 ? '-' : '+';
                  that.score_text = result.data.score;
                  that.$refs.integraltip.show();
                  setTimeout(function () {
                    that.add_type = '';
                    that.score_text = '';

                    that.$refs.integraltip.close();
                    that.getCommentList();
                  }, 2000);
                } else {
                  that.getCommentList();
                }
              });
              // 	}
              // });
            }
          });
        } else {
          this.Api.voteComment(data).then(function (result) {
            if (result.code == 1) {
              // uni.showToast({
              // 	title: result.msg,
              // 	duration: 2000,
              // 	success: () => {
              that.$u.toast(result.msg);
              that.subMessageTodo(that.comIds, 3, function (ss) {
                that.replyTextarea = false;
                that.textareaautofocus = false;
                that.scrollFixed = false;
                // this.isShowEmj = false
                // this.inputValue = ''
                // this.parent_id = ''
                // this.replyFlag = true
                // this.parent_text = '说说你的看法'
                // this.getCommentList()
                that.isShowEmj = false;
                that.inputValue = '';
                that.parent_id = '';
                that.replyFlag = true;
                that.parent_text = '说说你的看法';
                if (result.data.add) {
                  that.add_type = result.data.add == -1 ? '-' : '+';
                  that.score_text = result.data.score;
                  that.$refs.integraltip.show();
                  setTimeout(function () {
                    that.add_type = '';
                    that.score_text = '';

                    that.$refs.integraltip.close();
                    that.getCommentList();
                  }, 2000);
                } else {
                  that.getCommentList();
                }
              });
              // 	}
              // });
            }
          });
        }
      }

    },
    //复制功能
    copy: function copy(index) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      var data = '';
      var that = this;
      if (index == 1) {
        uni.makePhoneCall({
          phoneNumber: this.detail.mobile });

      } else if (index == 2) {
        data = this.detail.weixin;
        uni.setClipboardData({
          data: data,
          success: function success() {
            uni.showToast({
              title: '复制成功',
              duration: 2000 });

            that.wxsj = false;
          } });

      }
    },
    //放大处理
    previewImage: function previewImage(index) {
      console.log(index);
      uni.previewImage({
        loop: true,
        current: index,
        urls: this.detail.images,
        success: function success() {} });

    },
    getDdetail: function getDdetail() {var _this9 = this;
      this.Api.dongtaiDetail({ dynamics_id: this.dynamics_id }).then(function (result) {
        if (result.code == 1) {
          if (!result.data.id) {
            // uni.redirectTo({
            // 	url:'/pages/index/404'
            // })
            _this9.$refs.deletetip.deleteShow = true;
            return;
          }
          _this9.detail = result.data;
          _this9.loading = false;
          _this9.detail.content = _this9.detail.content.replace(/\<img/gi, '<img style="max-width:100%;height:auto;display:block;"');
          if (_this9.type == 2) {
            _this9.config.title = '小区新鲜事';
          } else if (_this9.type == 5) {
            _this9.config.title = '小区新鲜事';
          }
          _this9.detail.user = {
            user_nickname: '' };

          _this9.getCommentList();
          if (_this9.srouce) {
            console.log('dd,2');
            _this9.autoShare();
          } else {
            _this9.fixtodo();
          }
        }
      });
    },
    getDetail: function getDetail() {var _this10 = this;
      this.Api.singleVoteDetail({ vote_id: this.id }).then(function (result) {
        if (result.code == 1) {
          if (!result.data.vote_id) {
            // uni.redirectTo({
            // 	url:'/pages/index/404'
            // })
            _this10.$refs.deletetip.deleteShow = true;
            return;
          }
          _this10.detail = result.data;
          _this10.loading = false;
          _this10.opening = result.data.opening;
          _this10.srouceCommunity_id = result.data.create_user.community_id;
          _this10.srouceCommunity_text = result.data.create_user.community_name;
          if (_this10.type == 2) {
            _this10.config.title = '小区新鲜事';
          } else if (_this10.type == 5) {
            _this10.config.title = '小区新鲜事';
          } else {
            if (_this10.detail.community) {
              _this10.config.title = _this10.detail.community.title + _tool.default.resultValue(_this10.type);
            }
          }
          _this10.author = result.data.user_id;
          if (!_this10.voteobj) {
            _this10.voteobj = result.data.vote_list[0];
          }
          _this10.getCommentList();
          if (_this10.srouce) {
            console.log('d2');
            _this10.autoShare();
          } else {
            _this10.fixtodo();
          }
        }
      });
    },
    swiperChange: function swiperChange(e) {
      this.swiperIndex = e.detail.current + 1;
    },
    // 打开手机微信
    openWxsj: function openWxsj(index) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      this.wxsj = true;
    },
    closewxsj: function closewxsj() {
      this.wxsj = false;
    },
    navClick: function navClick(index) {
      this.navIndex = index;
      if (index == 1) {
        this.nodatatext = '暂无评论';
      } else if (index == 2) {
        this.nodatatext = '暂无帮推';
      }
      this.getCommentList();
    },
    //收藏处理
    moreClick: function moreClick() {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      this.typeFlag = true;
      this.findFaultType = this.type;
      this.findFaultCollect = this.detail.user_favorite == 0 ? false : true;
      this.findFaultValue = true;
    },
    //收藏处理
    fCollect: function fCollect(e) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      var data = {
        community_id: uni.getStorageSync('community_id'),
        dynamics_id: this.id,
        object_type: this.detail.type };

      if (this.type == 8) {
        data.dynamics_id = this.dynamics_id;
      }
      if (this.detail.user_favorite == 0) {
        this.Api.setFavorites(data).then(function (result) {
          if (result.code == 1) {
            uni.showToast({
              title: result.msg,
              duration: 2000 });

          } else {
            uni.showToast({
              title: result.msg,
              duration: 2000 });

          }
        });
      } else if (this.detail.user_favorite == 1) {
        this.Api.unsetFavorites(data).then(function (result) {
          if (result.code == 1) {
            uni.showToast({
              title: result.msg,
              duration: 2000 });

          } else {
            uni.showToast({
              title: result.msg,
              icon: 'none',
              duration: 2000 });

          }
        });
      }
      this.findFaultValue = false;
      this.getDetailAll();
      this.$forceUpdate();
    },
    //找错处理
    fFind: function fFind(e) {
      this.findFaultValue = false;
      this.messageText = '';
      this.$forceUpdate();
      this.typeFlag = false;
      this.messageShow = true;
    },
    fClose: function fClose() {
      this.findFaultValue = false;
    },
    //评论回复操作
    replyHandler: function replyHandler(e) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      console.log(e);
      this.replyFlag = false;
      this.parent_id = e.id;
      this.parent_text = '回复' + e.user.user_nickname;
      this.replyTextarea = true;
      this.textareaautofocus = true;
      this.scrollFixed = true;
      // parent_id:'',
      // parent_text:'说说你的看法',
    },
    report: function report() {var _this11 = this;
      //findFaultObject
      uni.navigateTo({
        url: '/pages/update/report?object_id=' + this.detail.id + '&object_type=' + this.detail.type,
        success: function success() {
          _this11.findFaultValue = false;
        } });

    },
    //挑错处理
    textareaBlur: function textareaBlur(e) {
      console.log(e.detail);
    },
    closeMessage: function closeMessage() {
      this.messageShow = false;
    },
    submitTodo: function submitTodo(e) {var _this12 = this;
      if (!e) {
        uni.showToast({
          icon: 'none',
          title: '请输入挑错内容' });

        return;
      }
      var data = {
        wiki_id: this.detail.object_id,
        community_id: uni.getStorageSync('community_id'),
        content: e };

      this.Api.communitydynamicswikiCorrection(data).then(function (result) {
        if (result.code == 1) {
          uni.showToast({
            icon: 'success',
            duration: 1000,
            title: result.msg,
            success: function success() {
              _this12.messageShow = false;
            } });

        }
      });
    },
    thankHandler: function thankHandler(e) {var _this13 = this;
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      this.findFaultObject = e;
      this.$getMyscore(function (result) {
        if (result.code == 1) {
          _this13.score = result.data.score;
          _this13.thankShow = true;
        }
      });
    },
    goPerHandler: function goPerHandler(e) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      uni.navigateTo({
        url: '/pages/index/personalcard?user_id=' + e.id + '&community_id=' + e.community_id });

    },
    cancel: function cancel() {
      this.thankShow = false;
    },
    ok: function ok(e) {var _this14 = this;
      var input = this.$refs.thank.inputValue;
      if (!input) {
        uni.showToast({
          title: '请输入积分',
          icon: 'none',
          duration: 2000 });

        return;
      }
      var data = {
        score: input,
        comment_id: this.findFaultObject.id,
        community_id: uni.getStorageSync('community_id'),
        from_community_id: this.findFaultObject.userinfo.community_id };

      this.Api.communityDynamicsThanksHelp(data).then(function (result) {
        if (result.code == 1) {
          uni.showToast({
            title: result.msg,
            icon: 'success',
            duration: 2000,
            success: function success() {
              _this14.$refs.Help.inputValue = 0;
              _this14.thankShow = false;
              _this14.add_type = result.data.add == -1 ? '-' : '+';
              _this14.score_text = result.data.score;
              _this14.$refs.integraltip.show();
              setTimeout(function () {
                _this14.add_type = '';
                _this14.score_text = '';
                _this14.$refs.integraltip.close();
                _this14.getCommentList();
              }, 2000);
            } });

        }
      });
    },
    // 分享弹窗
    onShowshare: function onShowshare() {
      this.findFaultValue = false;
      this.onShareShow = false;
    },
    shareClick: function shareClick(e) {
      if (uni.getStorageSync('singPage') == 1) {
        uni.showToast({
          title: '请前往小程序使用完整服务',
          icon: 'none',
          duration: 2000 });

        return;
      } else {
        var token = uni.getStorageSync('token');
        var all_community = uni.getStorageSync('all_community');
        if (!token && all_community.length == 0 || token && all_community.length == 0) {
          this.$refs.confrims.text = '暂无权限操作，登录问邻即可操作';
          this.$refs.confrims.id = -1;
          this.$refs.confrims.guestShow = true;
          return;
        }
      }
      this.findFaultObject = this.detail;
      // console.log(		this.findFaultObject.title,'sss')
      // return;
      this.onShareShow = true;
    },
    onShowclose: function onShowclose() {
      this.onShareShow = false;
    },
    onShowtodo: function onShowtodo() {var _this15 = this;
      this.scrollFixed = true;
      var pages = getCurrentPages(); //获取加载的页面

      var currentPage = pages[pages.length - 1]; //获取当前页面的对象
      console.log(currentPage.route);
      // return
      var data = {};
      if (this.dynamics_id) {
        data = {
          scene: 'id=' + this.id + '&type=' + this.type + '&d_id=' + this.dynamics_id,
          page: currentPage.route };

      } else {
        data = {
          scene: 'id=' + this.id + '&type=' + this.type,
          page: currentPage.route };

      }

      this.Api.getWXACodeUnlimit(data).then(function (result) {
        if (result.code == 1) {
          _this15.$nextTick(function () {
            _this15.onShareShow = false;
            _this15.posterData.posterImgUrl = _this15.findFaultObject.images.length ? _this15.findFaultObject.images[0] : 'https://sq.wenlinapp.com/appimg/share500400.jpg';
            if (_this15.type == 7 || _this15.type == 8) {
              _this15.posterData.title = _this15.findFaultObject.title;
            } else {
              _this15.posterData.title = _this15.findFaultObject.content;
            }
            if (_this15.posterData.title.length > 35) {
              _this15.posterData.title = _this15.posterData.title.substr(0, 35) + '...';
            }
            _this15.posterData.avatarUrl = uni.getStorageSync('user').avatar;
            _this15.posterData.posterCodeUrl = result.data;
            _this15.posterData.des = uni.getStorageSync('user').user_nickname + '给你分享了一个' + _tool.default.resultValue(_this15.type) + '信息';
            _this15.$forceUpdate();
            setTimeout(function () {
              _this15.canvasFlag = false; //显示canvas海报
              _this15.deliveryFlag = false; //关闭分享弹窗
              _this15.$refs.hchPoster.posterShow();
            }, 500);
          });
        } else {
          _this15.scrollFixed = false;
        }
      });
    },
    canvasCancel: function canvasCancel(val) {
      this.scrollFixed = false;
      this.canvasFlag = val;
    },
    condelHandler: function condelHandler(e) {var _this16 = this;
      if (e == -1) {
        var url = '';
        if (this.type == 7 || this.type == 8) {
          url = '/pages/index/detail?dynamics_id=' + this.dynamics_id + '&type=' + this.type + '&id=' + this.id;
        } else {
          url = '/pages/index/detail?id=' + this.id + '&type=' + this.type;
        }
        uni.setStorageSync('url', url);
        uni.reLaunch({
          url: '/pages/index/index' });

        return;
      }
      var data = {
        id: e };

      this.Api.votedelComments(data).then(function (result) {
        if (result.code == 1) {
          uni.showToast({
            title: result.msg,
            duration: 2000,
            success: function success() {
              _this16.$refs.confrims.guestShow = false;
              _this16.getCommentList();
            } });

        }
      });
    } },

  components: {
    UserHeader: UserHeader,
    Comment: Comment,
    navigationCustom: navigationCustom,
    emotion: emotion,
    FindFault: FindFault,
    LeaveWords: LeaveWords,
    Thank: Thank,
    Help: Help,
    Onshare: Onshare,
    hchPoster: hchPoster,
    Integraltip: Integraltip,
    Nodata: Nodata,
    Firend: Firend,
    Reply: Reply,
    Confrimpop: Confrimpop,
    Confrimpops: Confrimpops,
    DeleteTip: DeleteTip,
    SelectItem: SelectItem },

  computed: {
    autoMobileOpen: function autoMobileOpen() {
      if (this.type != 8) {
        if (this.detail.user) {
          if (this.detail.mobile || this.detail.weixin) {
            return true;
          } else {
            return false;
          }
        } else {
          return false;
        }
      } else {
        return false;
      }
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 258:
/*!***************************************************************************************************************!*\
  !*** D:/com_work/wenlin/pages/update/ysvdetail.vue?vue&type=style&index=0&id=246cef20&lang=scss&scoped=true& ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _C_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_C_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_C_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_style_index_0_id_246cef20_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ysvdetail.vue?vue&type=style&index=0&id=246cef20&lang=scss&scoped=true& */ 259);
/* harmony import */ var _C_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_C_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_C_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_style_index_0_id_246cef20_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_C_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_C_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_C_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_style_index_0_id_246cef20_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _C_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_C_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_C_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_style_index_0_id_246cef20_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _C_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_C_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_C_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_style_index_0_id_246cef20_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_C_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_C_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_C_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_C_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_ysvdetail_vue_vue_type_style_index_0_id_246cef20_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 259:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/com_work/wenlin/pages/update/ysvdetail.vue?vue&type=style&index=0&id=246cef20&lang=scss&scoped=true& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[252,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/update/ysvdetail.js.map