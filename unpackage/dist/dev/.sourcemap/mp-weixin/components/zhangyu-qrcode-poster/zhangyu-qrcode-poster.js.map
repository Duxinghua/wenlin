{"version":3,"sources":["webpack:///D:/uniapp/lindemoc/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?512b","webpack:///D:/uniapp/lindemoc/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?6d2d","webpack:///D:/uniapp/lindemoc/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?6ccf","webpack:///D:/uniapp/lindemoc/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?fd87","uni-app:///components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue","webpack:///D:/uniapp/lindemoc/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?5555","webpack:///D:/uniapp/lindemoc/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?b00b"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8I;AAC9I;AACyE;AACL;AACsC;;;AAG1G;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2FAAM;AACR,EAAE,4GAAM;AACR,EAAE,qHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gHAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAknB,CAAgB,+nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACStoB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA,GADA;AA+BA,MA/BA,kBA+BA;AACA;AACA,gBADA;AAEA,gBAFA;AAGA,eAHA;AAIA,mBAJA;AAKA,kBALA;AAMA,+OANA;AAOA,8GAPA;AAQA,4NARA;AASA,iBATA;AAUA,eAVA;AAWA,iBAXA;;AAaA,GA7CA;AA8CA;AACA;AACA,cAFA,sBAEA,MAFA,EAEA;AACA;AACA;AACA;AACA,KANA;AAOA;AACA,UARA,oBAQA;AACA;AACA;AACA,iCADA;AAEA,4BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA,0CAiBA,mCAjBA,SAiBA,SAjBA;AAkBA,kBAlBA,GAkBA,eAlBA;AAmBA,kBAnBA,GAmBA,eAnBA;AAoBA;AACA;AACA;AACA;AACA;AAxBA,qBAyBA,UAzBA;AA0BA,iDA1BA,UA0BA,SA1BA;AA2BA;;AAEA;AACA;AACA;AACA,kIAhCA;;AAkCA;AACA,kBAnCA,GAmCA,aAnCA;AAoCA;AACA;AACA;AACA,sIAvCA;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1EA,0CA2EA,gCA3EA,SA2EA,SA3EA;AA4EA;AACA;AACA,yBADA;AAEA,8BAFA;AAGA,gFAHA;AAIA,8BAJA;AAKA,8BALA;AAMA,gFANA;AAOA,8BAPA;AAQA,8BARA;AASA,8BATA;;AAWA;AACA;AACA;AACA,qIA3FA;AA4FA,0BA5FA;AA6FA;AACA;AACA;AACA;AACA,6LAjGA;;;AAoGA,iDApGA,UAoGA,UApGA;AAqGA;;AAEA;AACA;AACA;AACA,mIA1GA;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAFA;AAGA,iBAJA,EAIA,GAJA,EAhHA;AAqHA,KA7HA;AA8HA,QA9HA,gBA8HA,GA9HA,EA8HA,GA9HA,EA8HA,QA9HA,EA8HA,QA9HA,EA8HA,OA9HA,EA8HA,UA9HA,EA8HA,OA9HA,EA8HA;AACA;;;;;;;;AAQA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAPA,MAOA;AACA;;AAEA;AACA,SAdA,MAcA;AACA;AACA,SAFA,MAEA;AACA;AACA;;;AAGA;AACA,KApMA;AAqMA;AACA,cAtMA,sBAsMA,GAtMA,EAsMA,EAtMA,EAsMA,EAtMA,EAsMA,EAtMA,EAsMA,EAtMA,EAsMA,EAtMA,EAsMA,KAtMA,EAsMA,MAtMA,EAsMA,MAtMA,EAsMA;AACA;AACA,sBAFA,CAEA;;AAEA,iDAJA,CAIA;;AAEA,iBANA,CAMA;AACA;;AAEA,mDATA,CASA;;AAEA,oBAXA,CAWA;;AAEA;;AAEA,KArNA;AAsNA,iBAtNA,yBAsNA,GAtNA,EAsNA,GAtNA,EAsNA,CAtNA,EAsNA,CAtNA,EAsNA,KAtNA,EAsNA,MAtNA,EAsNA,MAtNA,EAsNA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3OA;AA4OA;AACA,kBA7OA,0BA6OA,GA7OA,EA6OA,CA7OA,EA6OA,CA7OA,EA6OA,MA7OA,EA6OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArPA;AAsPA;AACA,gBAvPA,wBAuPA,GAvPA,EAuPA,EAvPA,EAuPA,EAvPA,EAuPA,EAvPA,EAuPA,EAvPA,EAuPA,UAvPA,EAuPA;AACA,oCADA,CACA;AACA,0BAFA,CAEA;AACA,yBAHA,CAGA;AACA;AACA;AACA,KA7PA;AA8PA;AACA,gBA/PA,wBA+PA,GA/PA,EA+PA,GA/PA,EA+PA,CA/PA,EA+PA,CA/PA,EA+PA,KA/PA,EA+PA,MA/PA,EA+PA,MA/PA,EA+PA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArRA;AAsRA;AACA,iBAvRA,yBAuRA,GAvRA,EAuRA,CAvRA,EAuRA,CAvRA,EAuRA,KAvRA,EAuRA,MAvRA,EAuRA,MAvRA,EAuRA,KAvRA,EAuRA;AACA;AACA;AACA;AACA;AACA,+BALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,KAlSA;AAmSA;AACA,gBApSA,wBAoSA,MApSA,EAoSA;AACA;AACA;AACA,qBADA;AAEA;AACA;AACA;AACA,WALA;AAMA;AACA;AACA;AACA,WATA;;AAWA,OAZA;AAaA,KAlTA;AAmTA;AACA,aApTA,uBAoTA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA,mBACA,GADA,EACA;AACA;AACA,iBAHA;;AAKA,aAPA,MAOA;AACA;AACA;AACA;AACA,yBADA,mBACA,GADA,EACA;AACA;AACA,mBAHA;;AAKA;AACA;AACA,WAnBA,MAmBA;AACA;AACA;AACA,SAzBA;;AA2BA;AACA;AACA,6BADA;AAEA,kBAFA;AAGA;AACA;AACA;AACA,sCADA;AAEA,mBAFA,mBAEA,GAFA,EAEA;AACA;AACA,+BADA;AAEA,+BAFA;AAGA,8BAHA;;AAKA;AACA;AACA,eAFA,EAEA,IAFA;AAGA,aAXA;;AAaA,SAlBA;AAmBA,UAnBA;AAoBA,KAtWA,EA9CA,E;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAA+oC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACAnqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./zhangyu-qrcode-poster.vue?vue&type=template&id=1a399d58&scoped=true&\"\nvar renderjs\nimport script from \"./zhangyu-qrcode-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./zhangyu-qrcode-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./zhangyu-qrcode-poster.vue?vue&type=style&index=0&id=1a399d58&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a399d58\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhangyu-qrcode-poster.vue?vue&type=template&id=1a399d58&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.isShow = false\n    }\n\n    _vm.e1 = function($event) {\n      $event.stopPropagation()\n      _vm.isShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhangyu-qrcode-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhangyu-qrcode-poster.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\" v-if=\"isShow\" @click.stop=\"isShow=false\">\r\n\t\t<image @click.stop=\"isShow=false\" src=\"../../static/posterclose.png\" class=\"posterclose\" :style=\"{left: (canvasW/2) + 'px',top:'10px'}\"/>\n\t\t<canvas @click.stop=\"\" :style=\"{ width: canvasW + 'px', height: canvasH + 'px' }\" canvas-id=\"my-canvas\"></canvas>\n\t\t<view class=\"save-btn\" @click.stop=\"saveImage\">保存图片</view>\n\t</view>\n</template>\n\n<script>\n\texport default{\n\t\tprops:{\n\t\t\t// headerImg:{\n\t\t\t// \ttype: String,\n\t\t\t// \tdefault: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593877475440&di=1a0df0671c47b1d056d968fb7551c9b6&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201804%2F29%2F20180429070534_bpfvj.jpg'\n\t\t\t// },\n\t\t\t// title:{\n\t\t\t// \ttype: String,\n\t\t\t// \tdefault: '草莓千层蛋糕'\n\t\t\t// },\n\t\t\t// subTitle:{\n\t\t\t// \ttype: String,\n\t\t\t// \tdefault: '鲜嫩多汁的草莓融合香甜奶油'\n\t\t\t// },\n\t\t\t// price:{\n\t\t\t// \ttype: Number,\n\t\t\t// \tdefault: 36.89\n\t\t\t// },\n\t\t\t// abImg:{\n\t\t\t// \ttype: String,\n\t\t\t// \tdefault: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593878160353&di=54ffd6faac66565332f75b00d7cecb40&imgtype=0&src=http%3A%2F%2Fsrc.onlinedown.net%2Fimages%2Fxcs%2F10%2F150872538990903.jpg'\n\t\t\t// },\r\n\t\t\t// avatar:{\r\n\t\t\t// \ttype: String,\r\n\t\t\t// \tdefault: 'https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2369419058,1797305489&fm=27&gp=0.jpg'\r\n\t\t\t// },\r\n\t\t\t// username:{\r\n\t\t\t// \ttype: String,\r\n\t\t\t// \tdefault: ''\r\n\t\t\t// }\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tcanvasW: 0,\n\t\t\t\tcanvasH: 0,\n\t\t\t\tctx: null,\n\t\t\t\tisShow: false,\n\t\t\t\tusername: '',\r\n\t\t\t\theaderImg:'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593877475440&di=1a0df0671c47b1d056d968fb7551c9b6&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201804%2F29%2F20180429070534_bpfvj.jpg',\r\n\t\t\t\tavatar:'https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2369419058,1797305489&fm=27&gp=0.jpg',\r\n\t\t\t\tabImg:'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593878160353&di=54ffd6faac66565332f75b00d7cecb40&imgtype=0&src=http%3A%2F%2Fsrc.onlinedown.net%2Fimages%2Fxcs%2F10%2F150872538990903.jpg',\r\n\t\t\t\ttype:false,\r\n\t\t\t\ttitle:'',\r\n\t\t\t\tcontent:''\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t//显示\n\t\t\tshowCanvas(qrcode){\n\t\t\t\tthis.isShow = true\n\t\t\t\tthis.qrcode = qrcode\n\t\t\t\tthis.__init()\n\t\t\t},\n\t\t\t//初始化画布\n\t\t\tasync __init(){\r\n\t\t\t\tconsole.log(this.title,'this.title')\n\t\t\t\tuni.showLoading({\n\t\t\t\t    title: '加载中...',\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\tthis.ctx = uni.createCanvasContext('my-canvas',this)\r\n\t\t\t\tconsole.log(this.ctx)\n\t\t\t\tthis.canvasW = uni.upx2px(600);\n\t\t\t\tthis.canvasH = uni.upx2px(880);\n\t\t\t\t//设置画布背景透明\n\t\t\t\tthis.ctx.setFillStyle('rgba(255, 255, 255, 0)')\n\t\t\t\t//设置画布大小\n\t\t\t\tthis.ctx.fillRect(0,0,this.canvasW,this.canvasH)\n\t\t\t\t//绘制圆角背景\n\t\t\t\tthis.drawRoundRect(this.ctx, 0, 0, this.canvasW, this.canvasH,uni.upx2px(18),'#FFFFFF')\n\t\t\t\t//获取标题图片\n\t\t\t\tlet headerImg = await this.getImageInfo(this.headerImg)\n\t\t\t\tlet hW = uni.upx2px(552);\n\t\t\t\tlet hH = uni.upx2px(365);\n\t\t\t\t//绘制标题图\n\t\t\t\tthis.drawRoundImg(this.ctx,headerImg.path,((this.canvasW-hW) / 2),((this.canvasW-hW) / 2),hW,hH,uni.upx2px(18))\n\t\t\t\t//imgfillet\r\n\t\t\t\t//this.ctx.drawImage(headerImg.path,((this.canvasW-hW) / 2),((this.canvasW-hW) / 2),hW,hH,uni.upx2px(18))\r\n\t\t\t\t//小程序码\r\n\t\t\t\tif(this.type){\r\n\t\t\t\t\tlet qrcodeImg = await this.getImageInfo(this.abImg)\r\n\t\t\t\t\tthis.ctx.drawImage(qrcodeImg.path,uni.upx2px(222),(((this.canvasW-hW) / 2) + hH + uni.upx2px(24)), uni.upx2px(156), uni.upx2px(156))\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.ctx.setFontSize(12);\r\n\t\t\t\t\tthis.ctx.setFillStyle('#666666');\r\n\t\t\t\t\tthis.ctx.setTextAlign(\"center\");\r\n\t\t\t\t\tthis.ctx.fillText('长按识别进入小区',uni.upx2px(300),(((this.canvasW-hW) / 2) + hH + uni.upx2px(52) + uni.upx2px(156)))\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.text(this.ctx,this.title,15,uni.upx2px(552),(((this.canvasW-hW) / 2) + hH + uni.upx2px(12)),uni.upx2px(40),1)\r\n\t\t\t\t\tvar ss = this.content\r\n\t\t\t\t\tif(ss.length > 65){\r\n\t\t\t\t\t\tss = ss.substr(0,65)+'...'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.text(this.ctx,ss,13,uni.upx2px(552),(((this.canvasW-hW) / 2) + hH + uni.upx2px(24*4)),uni.upx2px(40),3)\r\n\t\t\t\t}\r\n\t\t\t\t//绘制标题\n\t\t\t\t//this.ctx.setFontSize(18); //设置标题字体大小问邻，远亲不如问邻邀请您加入问邻互助平台\n\t\t\t\t//this.ctx.setFillStyle('#333'); //设置标题文本颜色\n\t\t\t\t//this.ctx.fillText(this.title,((this.canvasW-hW) / 2),(\n\t\t\t\t//((this.canvasW-hW) / 2) + hH + uni.upx2px(60)))\n\t\t\t\t//绘制副标题\n\t\t\t\t// this.ctx.setFontSize(14);\n\t\t\t\t// //this.ctx.setFillStyle('#858585');\n\t\t\t\t// let sWidth = this.ctx.measureText(this.subTitle).width\n\t\t\t\t// if(sWidth > hW){\n\t\t\t\t// \tthis.ctx.fillText(this.subTitle.slice(0,17) + '...',((this.canvasW-hW) / 2),(\n\t\t\t\t// \t((this.canvasW-hW) / 2) + hH + uni.upx2px(110)))\n\t\t\t\t// }else{\n\t\t\t\t// \tthis.ctx.fillText(this.subTitle,((this.canvasW-hW) / 2),(\n\t\t\t\t// \t((this.canvasW-hW) / 2) + hH + uni.upx2px(110)))\n\t\t\t\t// }\n\t\t\t\t//绘制价格\n\t\t\t\t// this.ctx.setFontSize(14);\n\t\t\t\t// this.ctx.setFillStyle('#f54545');\n\t\t\t\t// this.ctx.fillText('￥',((this.canvasW-hW) / 2),(\n\t\t\t\t// ((this.canvasW-hW) / 2) + hH + uni.upx2px(180)))\n\t\t\t\t// this.ctx.setFontSize(18);\n\t\t\t\t// this.ctx.fillText(this.price,(((this.canvasW-hW) / 2) + uni.upx2px(36)),(\n\t\t\t\t// ((this.canvasW-hW) / 2) + hH + uni.upx2px(180)))\n\t\t\t\t//绘制虚线\n\t\t\t\tthis.drawDashLine(this.ctx,uni.upx2px(0),(((this.canvasW-hW) / 2) + hH + uni.upx2px(240)),(this.canvasW),(((this.canvasW-hW) / 2) + hH + uni.upx2px(240)),5)\n\t\t\t\t//左边实心圆\n\t\t\t\t//this.drawEmptyRound(this.ctx,0,(((this.canvasW-hW) / 2) + hH + uni.upx2px(240)),uni.upx2px(20))\n\t\t\t\t//右边实心圆\n\t\t\t\t//this.drawEmptyRound(this.ctx,this.canvasW,(((this.canvasW-hW) / 2) + hH + uni.upx2px(240)),uni.upx2px(20))\n\t\t\t\t//提示文案\r\n\t\t\t\t// uni.upx2px(48),\r\n\t\t\t\t// ((this.canvasW-hW) / 2) + hH + uni.upx2px(240)+ uni.upx2px(64),\r\n\t\t\t\t// uni.upx2px(24),\r\n\t\t\t\tlet avatarImg = await this.getImageInfo(this.avatar)\r\n\t\t\t\t// this.drawRoundImg(this.ctx,avatarImg.path,((this.canvasW-hW) / 2),((this.canvasW-hW) / 2),hW,hH,uni.upx2px(18))\n\t\t\t\tthis.drawavatar(\r\n\t\t\t\t\tthis.ctx,\r\n\t\t\t\t\tuni.upx2px(48),\r\n\t\t\t\t\t((this.canvasW-hW) / 2) + hH + uni.upx2px(240)+ uni.upx2px(64),\r\n\t\t\t\t\tuni.upx2px(24),\r\n\t\t\t\t\tuni.upx2px(24),\r\n\t\t\t\t\t((this.canvasW-hW) / 2) + hH + uni.upx2px(240)+ uni.upx2px(40),\r\n\t\t\t\t\tuni.upx2px(48),\r\n\t\t\t\t\tuni.upx2px(48),\r\n\t\t\t\t\tavatarImg.path\r\n\t\t\t\t)\r\n\t\t\t\tthis.ctx.setFontSize(12);\r\n\t\t\t\tthis.ctx.setFillStyle('#666666');\r\n\t\t\t\tthis.ctx.setTextAlign(\"left\");\r\n\t\t\t\tthis.ctx.fillText(this.username,uni.upx2px(80),((this.canvasW-hW) / 2) + hH + uni.upx2px(240)+ uni.upx2px(75))\r\n\t\t\t\tif(this.type){\r\n\t\t\t\t\tthis.ctx.setFontSize(12);\r\n\t\t\t\t\t// this.ctx.setFillStyle('#FF9C00');\r\n\t\t\t\t\tthis.ctx.setTextAlign(\"left\");\r\n\t\t\t\t\t// this.ctx.fillText('远亲不如问邻，XX邀请您加入问邻互助平台',uni.upx2px(24),((this.canvasW-hW) / 2) + hH + uni.upx2px(240)+ uni.upx2px(125))\n\t\t\t\t\tthis.text(this.ctx,'远亲不如问邻，'+this.username+'邀请您加入问邻互助平台',14,uni.upx2px(552),((this.canvasW-hW) / 2) + hH + uni.upx2px(240)+ uni.upx2px(125),uni.upx2px(50),2)\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet qrcodeImg = await this.getImageInfo(this.abImg)\r\n\t\t\t\t\tthis.ctx.drawImage(qrcodeImg.path,uni.upx2px(222),((this.canvasW-hW) / 2) + hH + uni.upx2px(240)+ uni.upx2px(20), uni.upx2px(156), uni.upx2px(156))\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.ctx.setFontSize(12);\r\n\t\t\t\t\tthis.ctx.setFillStyle('#666666');\r\n\t\t\t\t\tthis.ctx.setTextAlign(\"center\");\r\n\t\t\t\t\tthis.ctx.fillText('长按识别进入小区',uni.upx2px(300),(((this.canvasW-hW) / 2) + hH + uni.upx2px(300) + uni.upx2px(156)))\r\n\t\t\t\t}\r\n\t\t\t\t//底部广告\n\t\t\t\t//let BottomAdImg = await this.getImageInfo(this.abImg)\n\t\t\t\t//this.ctx.drawImage(BottomAdImg.path,(((this.canvasW-hW) / 2)),(((this.canvasW-hW) / 2) + hH + uni.upx2px(310)),uni.upx2px(350),uni.upx2px(110))\n\t\t\t\t//延迟渲染\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.ctx.draw(true,()=>{\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t})\n\t\t\t\t},500)\n\t\t\t},\r\n\t\t\ttext (ctx,msg, fontSize, maxWidht, textTop, lineHeight,lineNum) {\r\n\t\t\t    /*\r\n\t\t\t        msg: 文本内容\r\n\t\t\t        fontSize: 文字宽度\r\n\t\t\t        maxWidht: Canvas宽度\r\n\t\t\t        textTop: 文本的高度\r\n\t\t\t        lineHeight: 行高\r\n\t\t\t\t\tlineNum://行数\r\n\t\t\t    */\r\n\t\t\t    ctx.setFontSize(fontSize);\r\n\t\t\t\tif(lineNum == 1 || lineNum == 2){\r\n\t\t\t\t\tctx.setFillStyle('#FF9C00');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tctx.setFillStyle('#666666');\r\n\t\t\t\t}\r\n\t\t\t    let str = msg\r\n\t\t\t\tconsole.log(msg,'msg')\r\n\t\t\t    let list = [[]]\r\n\t\t\t    let ind = 0\r\n\t\t\t    for (var i = 0;i < str.length;i++) {\r\n\t\t\t        if (fontSize * i >= maxWidht - fontSize) {\r\n\t\t\t            ind = i\r\n\t\t\t            break\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t    let Nub = 0\r\n\t\t\t    let Storage = 0\r\n\t\t\t    for (var i = 0;i < str.length;i++) {\r\n\t\t\t        if (Nub === ind) {\r\n\t\t\t            Nub = 0\r\n\t\t\t\t\t\tif(lineNum != 1){\r\n\t\t\t\t\t\t\tconsole.log(list[Storage].join(''),'title','ss')\r\n\t\t\t\t\t\t\tctx.fillText(list[Storage].join(''), uni.upx2px(24), textTop + (Storage * lineHeight))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tStorage++\r\n\t\t\t            list.push([])\r\n\t\t\t        }\r\n\t\t\t        Nub++\r\n\t\t\t        list[Storage].push(str[i])\r\n\t\t\t    }\r\n\t\t\t\t// if(lineNum == 1 ){\r\n\t\t\t\t// \tStorage = 1\r\n\t\t\t\t// }\r\n\t\t\t\t// if(Storage > 3){\r\n\t\t\t\t// \tStorage = 3\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\tif (list[Storage]) {\r\n\t\t\t\t\tif(lineNum == 1){\r\n\t\t\t\t\t\tconsole.log(list[Storage].join(''),'title','ss1')\r\n\t\t\t\t\t\t//Storage = lineNum == 1 ? 0 : lineNum\r\n\t\t\t\t\t\tif(fontSize * list[Storage].length >= maxWidht - fontSize){\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar len = list[Storage].length\r\n\t\t\t\t\t\t\tvar s = list[Storage].slice(0,len-1)\r\n\t\t\t\t\t\t\tvar arr =['.','.','.']\r\n\t\t\t\t\t\t\tvar ss = s.concat(arr)\r\n\t\t\t\t\t\t\tconsole.log(ss,'title','ss1')\r\n\t\t\t\t\t\t\tctx.fillText(ss.join(''), uni.upx2px(24), textTop + (Storage * lineHeight))\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tctx.fillText(list[Storage].join(''), uni.upx2px(24), textTop + (Storage * lineHeight))\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(lineNum == 3){\r\n\t\t\t\t\t\tctx.fillText(list[Storage].join(''), uni.upx2px(24), textTop + (Storage * lineHeight))\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t ctx.fillText(list[Storage].join(''), uni.upx2px(24), textTop + (Storage * lineHeight))\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t       \r\n\t\t\t    }\r\n\t\t\t },\r\n\t\t\t// /* 绘制圆角图片 */ \n\t\t\t  drawavatar(ctx,x1,y1,r1,x2,y2,width,height,avatar) {\r\n\t\t\t\t\tctx.save()\n\t\t\t\t\tctx.beginPath() //开始创建一个路径\n\n\t\t\t\t\tctx.arc(x1, y1, r1, 0, 2 * Math.PI, false) //画一个圆形裁剪区域\n\n\t\t\t\t\tctx.clip() //裁剪\r\n\t\t\t\t\tconsole.log(this.avatar)\n\n\t\t\t\t\tctx.drawImage(avatar, x2, y2, width, height) //绘制图片\n\n\t\t\t\t\tctx.restore() //恢复之前保存的绘图上下文\n\t\t\t\t\t\n\t\t\t\t\tctx.draw()\n\n\t\t\t},\r\n\t\t\tdrawavatarImg(ctx, img, x, y, width, height, radius){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\tctx.beginPath()\r\n\t\t\t\tctx.save()\r\n\t\t\t\t//左上角\r\n\t\t\t\tctx.arc(x + radius, y + radius, radius, Math.PI, Math.PI * 1.5)\r\n\t\t\t\t// 右上角\r\n\t\t\t\tctx.arc(x + width - radius, y + radius, radius, Math.PI * 1.5, Math.PI * 2)\r\n\t\t\t\t// 右下角\r\n\t\t\t\tctx.arc(x + width - radius, y + height - radius, radius, 0, Math.PI * 0.5)\r\n\t\t\t\t// 左下角\r\n\t\t\t\tctx.arc(x + radius, y + height - radius, radius, Math.PI * 0.5, Math.PI)\r\n\t\t\t\tctx.setFillStyle('#ffffff')\r\n\t\t\t\tctx.setStrokeStyle('#ffffff')\r\n\t\t\t\tctx.stroke()\r\n\t\t\t\tctx.clip()\r\n\t\t\t\tctx.drawImage(img, x, y, width, height);\r\n\t\t\t\tctx.restore()\r\n\t\t\t\tctx.closePath()\r\n\t\t\t},\n\t\t\t//绘制实心圆\n\t\t\tdrawEmptyRound(ctx,x,y,radius){\n\t\t\t\tctx.save()\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, radius, 0, 2 * Math.PI,true);\n\t\t\t\tctx.setFillStyle('rgba(0, 0, 0, .4)')\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore()\n\t\t\t\tctx.closePath()\n\t\t\t},\n\t\t\t//绘制虚线\n\t\t\tdrawDashLine(ctx,x1,y1,x2,y2,dashLength){\n\t\t\t\tctx.setStrokeStyle('#DEDEDE')//设置线条的颜色\n\t\t\t\tctx.setLineWidth(1)//设置线条宽度\r\n\t\t\t\tctx.moveTo(x1, y1);           // 创建开始点\r\n\t\t\t\tctx.lineTo(x2, y2);   \n\t\t\t\tctx.stroke();\n\t\t\t},\n\t\t\t//带圆角图片\n\t\t\tdrawRoundImg(ctx, img, x, y, width, height, radius){\r\n\t\t\t\r\n\t\t\t\tctx.setFillStyle('transparent')\r\n\t\t\t\tctx.setStrokeStyle('transparent')\r\n\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.save()\n\t\t\t\t//左上角\n\t\t\t\tctx.arc(x + radius, y + radius, radius, Math.PI, Math.PI * 1.5)\n\t\t\t\t// 右上角\n\t\t\t\tctx.arc(x + width - radius, y + radius, radius, Math.PI * 1.5, Math.PI * 2)\n\t\t\t\t// 右下角\n\t\t\t\tctx.arc(x + width - radius, y + height - radius, radius, 0, Math.PI * 0.5)\n\t\t\t\t// 左下角\n\t\t\t\tctx.arc(x + radius, y + height - radius, radius, Math.PI * 0.5, Math.PI)\r\n\t\t\t\t// ctx.setFillStyle('#ffffff')\r\n\t\t\t\t// ctx.setStrokeStyle('#ffffff')\r\n\t\t\t\tctx.stroke()\n\t\t\t\tctx.clip()\n\t\t\t\tctx.drawImage(img, x, y, width, height);\n\t\t\t\tctx.restore()\n\t\t\t\tctx.closePath()\n\t\t\t},\n\t\t\t//圆角矩形\n\t\t\tdrawRoundRect(ctx, x, y, width, height, radius, color){\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.setFillStyle(color); \n\t\t\t\tctx.setStrokeStyle(color)\n\t\t\t\tctx.setLineJoin('round');  //交点设置成圆角\n\t\t\t\tctx.setLineWidth(radius);\n\t\t\t\tctx.strokeRect(x + radius/2, y + radius/2, width - radius , height - radius );\n\t\t\t\tctx.fillRect(x + radius, y + radius, width - radius * 2, height - radius * 2);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.closePath();\n\t\t\t},\n\t\t\t//获取图片\n\t\t\tgetImageInfo(imgSrc){\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\tsrc: imgSrc,\n\t\t\t\t\t\tsuccess: (image) => {\n\t\t\t\t\t\t\tresolve(image);\n\t\t\t\t\t\t\tconsole.log('获取图片成功',image)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\tconsole.log('获取图片失败',err)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t//保存图片到相册\n\t\t\tsaveImage(){\n\t\t\t\t//判断用户授权\n\t\t\t\tuni.getSetting({\n\t\t\t\t   success(res) {\n\t\t\t\t      console.log('获取用户权限',res.authSetting)\n\t\t\t\t\t  if(Object.keys(res.authSetting).length>0){\n\t\t\t\t\t\t  //判断是否有相册权限\n\t\t\t\t\t\t  if(res.authSetting['scope.writePhotosAlbum']==undefined){\n\t\t\t\t\t\t\t  //打开设置权限\n\t\t\t\t\t\t\t  uni.openSetting({\n\t\t\t\t\t\t\t    success(res) {\n\t\t\t\t\t\t\t      console.log('设置权限',res.authSetting)\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t  }else{\n\t\t\t\t\t\t\t  if(!res.authSetting['scope.writePhotosAlbum']){\n\t\t\t\t\t\t\t\t  //打开设置权限\n\t\t\t\t\t\t\t\t  uni.openSetting({\n\t\t\t\t\t\t\t\t    success(res) {\n\t\t\t\t\t\t\t\t      console.log('设置权限',res.authSetting)\n\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t  }\n\t\t\t\t\t  }else{\n\t\t\t\t\t\t  return\n\t\t\t\t\t  }\n\t\t\t\t   }\n\t\t\t\t})\n\t\t\t\tvar that = this\n\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\tcanvasId: 'my-canvas',\n\t\t\t\t\tquality: 1,\n\t\t\t\t\tcomplete: (res) => {\n\t\t\t\t\t\tconsole.log('保存到相册',res);\n\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已保存到相册',\n\t\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthat.isShow = false\n\t\t\t\t\t\t\t\t},2000)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},this);\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n.content{\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(0,0,0,.4);\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\r\n\tz-index: 10000;\r\n\t.posterclose{\r\n\t\tposition: relative;\r\n\t\twidth:40rpx;\r\n\t\theight:40rpx;\r\n\t\tz-index: 10001;\r\n\t}\n\t.save-btn{\n\t\tmargin-top: 32rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-weight: bold;\n\t\tcolor: #FFFFFF;\r\n\t\twidth:400rpx;\r\n\t\theight:80rpx;\r\n\t\tbackground:rgba(255,156,0,1);\r\n\t\tborder-radius:40rpx;\n\t}\n}\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhangyu-qrcode-poster.vue?vue&type=style&index=0&id=1a399d58&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhangyu-qrcode-poster.vue?vue&type=style&index=0&id=1a399d58&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1601391494536\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}