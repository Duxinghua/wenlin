(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/update/mycommunity"],{"0784":function(t,n,o){"use strict";(function(t){o("4038");i(o("66fd"));var n=i(o("2a86"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},"2a86":function(t,n,o){"use strict";o.r(n);var i=o("33cb"),e=o("94ee");for(var c in e)"default"!==c&&function(t){o.d(n,t,(function(){return e[t]}))}(c);o("fdc8");var u,a=o("f0c5"),m=Object(a["a"])(e["default"],i["b"],i["c"],!1,null,"2b9f898f",null,!1,i["a"],u);n["default"]=m.exports},"33cb":function(t,n,o){"use strict";o.d(n,"b",(function(){return e})),o.d(n,"c",(function(){return c})),o.d(n,"a",(function(){return i}));var i={uImage:function(){return o.e("uview-ui/components/u-image/u-image").then(o.bind(null,"2a28"))}},e=function(){var t=this,n=t.$createElement;t._self._c},c=[]},8345:function(t,n,o){},"94ee":function(t,n,o){"use strict";o.r(n);var i=o("dfe4"),e=o.n(i);for(var c in i)"default"!==c&&function(t){o.d(n,t,(function(){return i[t]}))}(c);n["default"]=e.a},dfe4:function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){o.e("components/struggler-navigationCustom/navigation-custom").then(function(){return resolve(o("e7f2"))}.bind(null,o)).catch(o.oe)},e=function(){o.e("components/setcommit/setcommit").then(function(){return resolve(o("3d8e"))}.bind(null,o)).catch(o.oe)},c={data:function(){return{config:{title:"我的小区",bgcolor:"white",fontcolor:"rgba(51, 51, 51, 1)",type:1,transparent:!1,linear:!1,share:!1},scrollTop:0,scrollMaxHeight:200,catelist:[{id:1,text:"全部"},{id:2,text:"求助"},{id:3,text:"新鲜事"},{id:4,text:"闲置"},{id:5,text:"鹊桥"},{id:6,text:"便民"},{id:7,text:"达人"}],cateIndex:1,logoutShow:!1,list:[],result:{},delcommunity_id:""}},onPageScroll:function(t){this.scrollTop=t.scrollTop},mounted:function(){},computed:{headerHeight:function(){return 96}},onShow:function(){this.myCommunity()},methods:{goCom:function(n){t.navigateTo({url:"/pages/index/communitycard?community_id="+n.community_id})},customConduct:function(t){console.log(t)},navClick:function(t){this.cateIndex=t.id},setDefault:function(n){var o=this;t.showActionSheet({itemList:["设为默认小区","退出小区"],success:function(i){0==i.tapIndex?o.Api.setDefaultCommunity({community_id:n.community_id}).then((function(i){1==i.code&&t.showToast({icon:"success",title:i.msg,duration:2e3,success:function(){t.setStorageSync("community_id",n.community_id),t.setStorageSync("community_menu",n.title+"("+n.total+")"),t.setStorageSync("committee_id",n.committee_id),o.myCommunity()}})})):1==i.tapIndex&&(o.delcommunity_id=n.community_id,o.logoutShow=!0)},fail:function(t){}})},confirmBtn:function(){var n=this,o=t.getStorageSync("all_community"),i=[];o.map((function(t){t.community_id!=n.delcommunity_id&&i.push(t)})),this.Api.exitCommunity({community_id:this.delcommunity_id}).then((function(o){1==o.code&&t.showToast({icon:"success",title:o.msg,duration:2e3,success:function(){t.setStorageSync("all_community",i),n.logoutShow=!1,n.list=[],n.myCommunity()}})}))},getShowControl:function(){var n=this;this.Api.myCommunity({}).then((function(o){if(console.log(o,"result"),1==o.code)if(o.data.length>1){var i=o.data;i.map((function(t){console.log(t),t.logo=t.logo?t.logo:n.Config.minUrl+"logovi.jpg"})),n.list=i,n.$refs.list=o.data,n.$refs.setcommit.show()}else{i=o.data[0];t.setStorageSync("community_id",i.community_id),t.setStorageSync("committee_id",i.committee_id)}}))},logoutCancel:function(){this.logoutShow=!1},add:function(){var n=t.getStorageSync("maxJoin");n<=this.list.length?t.showToast({title:"您最多只能加入"+n+"个小区",icon:"none",duration:2e3}):t.navigateTo({url:"/pages/update/setcommunity"})},myCommunity:function(){var t=this;this.Api.myCommunity({}).then((function(n){if(1==n.code){var o=n.data;o.map((function(n){console.log(n),n.logo=n.logo?n.logo:t.Config.minUrl+"logovi.jpg"})),t.list=o}}))}},components:{navigationCustom:i,setCommit:e}};n.default=c}).call(this,o("543d")["default"])},fdc8:function(t,n,o){"use strict";var i=o("8345"),e=o.n(i);e.a}},[["0784","common/runtime","common/vendor"]]]);